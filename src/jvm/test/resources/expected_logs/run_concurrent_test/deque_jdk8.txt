= Concurrent test failed =

java.lang.IllegalStateException: Check failed.
	at org.jetbrains.kotlinx.lincheck_test.representation.IncorrectConcurrentLinkedDequeRunConcurrentRepresentationTest.block(RunConcurrentRepresentationTests.kt:368)
	at org.jetbrains.kotlinx.lincheck_test.representation.IncorrectConcurrentLinkedDequeRunConcurrentRepresentationTest.block(RunConcurrentRepresentationTests.kt:352)
	at org.jetbrains.kotlinx.lincheck_test.representation.BaseRunConcurrentRepresentationTest.testRunWithModelChecker$lambda$1$lambda$0(RunConcurrentRepresentationTests.kt:48)
	at java.lang.Thread.run(Thread.java:750)

The following interleaving leads to the error:
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
|                                                                                   Main Thread                                                                                   |                                                                     Thread 1                                                                     |                                                                    Thread 2                                                                     |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| $this_runCatching.block(): threw IllegalStateException at BaseRunConcurrentRepresentationTest.testRunWithModelChecker$lambda$1$lambda$0(RunConcurrentRepresentationTests.kt:48) |                                                                                                                                                  |                                                                                                                                                 |
|   block(): threw IllegalStateException at IncorrectConcurrentLinkedDequeRunConcurrentRepresentationTest.block(RunConcurrentRepresentationTests.kt:352)                          |                                                                                                                                                  |                                                                                                                                                 |
|     deque.addLast(1) at IncorrectConcurrentLinkedDequeRunConcurrentRepresentationTest.block(RunConcurrentRepresentationTests.kt:357)                                            |                                                                                                                                                  |                                                                                                                                                 |
|     CollectionsKt.listOf(Array<Thread>#1): ArrayList#1 at IncorrectConcurrentLinkedDequeRunConcurrentRepresentationTest.block(RunConcurrentRepresentationTests.kt:365)          |                                                                                                                                                  |                                                                                                                                                 |
|     threads.forEach() at IncorrectConcurrentLinkedDequeRunConcurrentRepresentationTest.block(RunConcurrentRepresentationTests.kt:366)                                           |                                                                                                                                                  |                                                                                                                                                 |
|     threads.forEach() at IncorrectConcurrentLinkedDequeRunConcurrentRepresentationTest.block(RunConcurrentRepresentationTests.kt:367)                                           |                                                                                                                                                  |                                                                                                                                                 |
|       iterator(): Itr#2 at IncorrectConcurrentLinkedDequeRunConcurrentRepresentationTest.block(RunConcurrentRepresentationTests.kt:481)                                         |                                                                                                                                                  |                                                                                                                                                 |
|       Itr#2.hasNext(): true at IncorrectConcurrentLinkedDequeRunConcurrentRepresentationTest.block(RunConcurrentRepresentationTests.kt:481)                                     |                                                                                                                                                  |                                                                                                                                                 |
|       Itr#2.next(): Thread#1 at IncorrectConcurrentLinkedDequeRunConcurrentRepresentationTest.block(RunConcurrentRepresentationTests.kt:481)                                    |                                                                                                                                                  |                                                                                                                                                 |
|       switch (reason: waiting for Thread 1 to finish)                                                                                                                           |                                                                                                                                                  |                                                                                                                                                 |
|                                                                                                                                                                                 | run()                                                                                                                                            |                                                                                                                                                 |
|                                                                                                                                                                                 |   $deque.pollFirst(): 1 at IncorrectConcurrentLinkedDequeRunConcurrentRepresentationTest.block$lambda$0(RunConcurrentRepresentationTests.kt:359) |                                                                                                                                                 |
|                                                                                                                                                                                 |     first(): Node#1 at ConcurrentLinkedDeque.pollFirst(ConcurrentLinkedDeque.java:965)                                                           |                                                                                                                                                 |
|                                                                                                                                                                                 |     head.item ➜ null at ConcurrentLinkedDeque.pollFirst(ConcurrentLinkedDeque.java:966)                                                          |                                                                                                                                                 |
|                                                                                                                                                                                 |     succ(Node#1): Node#2 at ConcurrentLinkedDeque.pollFirst(ConcurrentLinkedDeque.java:965)                                                      |                                                                                                                                                 |
|                                                                                                                                                                                 |     Node#2.item ➜ 1 at ConcurrentLinkedDeque.pollFirst(ConcurrentLinkedDeque.java:966)                                                           |                                                                                                                                                 |
|                                                                                                                                                                                 |     switch                                                                                                                                       |                                                                                                                                                 |
|                                                                                                                                                                                 |                                                                                                                                                  | run()                                                                                                                                           |
|                                                                                                                                                                                 |                                                                                                                                                  |   $deque.addFirst(0) at IncorrectConcurrentLinkedDequeRunConcurrentRepresentationTest.block$lambda$1(RunConcurrentRepresentationTests.kt:362)   |
|                                                                                                                                                                                 |                                                                                                                                                  |   $deque.peekLast(): 1 at IncorrectConcurrentLinkedDequeRunConcurrentRepresentationTest.block$lambda$1(RunConcurrentRepresentationTests.kt:363) |
|                                                                                                                                                                                 |                                                                                                                                                  |   1.intValue(): 1 at IncorrectConcurrentLinkedDequeRunConcurrentRepresentationTest.block$lambda$1(RunConcurrentRepresentationTests.kt:363)      |
|                                                                                                                                                                                 |                                                                                                                                                  |   $r2.element = 1 at IncorrectConcurrentLinkedDequeRunConcurrentRepresentationTest.block$lambda$1(RunConcurrentRepresentationTests.kt:363)      |
|                                                                                                                                                                                 |     Node#2.casItem(1, null): true at ConcurrentLinkedDeque.pollFirst(ConcurrentLinkedDeque.java:967)                                             |                                                                                                                                                 |
|                                                                                                                                                                                 |     unlink(Node#2) at ConcurrentLinkedDeque.pollFirst(ConcurrentLinkedDeque.java:968)                                                            |                                                                                                                                                 |
|                                                                                                                                                                                 |   1.intValue(): 1 at IncorrectConcurrentLinkedDequeRunConcurrentRepresentationTest.block$lambda$0(RunConcurrentRepresentationTests.kt:359)       |                                                                                                                                                 |
|                                                                                                                                                                                 |   $r1.element = 1 at IncorrectConcurrentLinkedDequeRunConcurrentRepresentationTest.block$lambda$0(RunConcurrentRepresentationTests.kt:359)       |                                                                                                                                                 |
|       Thread#1.join() at IncorrectConcurrentLinkedDequeRunConcurrentRepresentationTest.block(RunConcurrentRepresentationTests.kt:367)                                           |                                                                                                                                                  |                                                                                                                                                 |
|       Itr#2.hasNext(): true at IncorrectConcurrentLinkedDequeRunConcurrentRepresentationTest.block(RunConcurrentRepresentationTests.kt:481)                                     |                                                                                                                                                  |                                                                                                                                                 |
|       Itr#2.next(): Thread#2 at IncorrectConcurrentLinkedDequeRunConcurrentRepresentationTest.block(RunConcurrentRepresentationTests.kt:481)                                    |                                                                                                                                                  |                                                                                                                                                 |
|       Thread#2.join() at IncorrectConcurrentLinkedDequeRunConcurrentRepresentationTest.block(RunConcurrentRepresentationTests.kt:367)                                           |                                                                                                                                                  |                                                                                                                                                 |
|       Itr#2.hasNext(): false at IncorrectConcurrentLinkedDequeRunConcurrentRepresentationTest.block(RunConcurrentRepresentationTests.kt:481)                                    |                                                                                                                                                  |                                                                                                                                                 |
|     r1.element ➜ 1 at IncorrectConcurrentLinkedDequeRunConcurrentRepresentationTest.block(RunConcurrentRepresentationTests.kt:368)                                              |                                                                                                                                                  |                                                                                                                                                 |
|     r2.element ➜ 1 at IncorrectConcurrentLinkedDequeRunConcurrentRepresentationTest.block(RunConcurrentRepresentationTests.kt:368)                                              |                                                                                                                                                  |                                                                                                                                                 |
|   result: IllegalStateException #1                                                                                                                                              |                                                                                                                                                  |                                                                                                                                                 |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |

Detailed trace:
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
|                                                                                   Main Thread                                                                                   |                                                                     Thread 1                                                                     |                                                                    Thread 2                                                                     |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| $this_runCatching.block(): threw IllegalStateException at BaseRunConcurrentRepresentationTest.testRunWithModelChecker$lambda$1$lambda$0(RunConcurrentRepresentationTests.kt:48) |                                                                                                                                                  |                                                                                                                                                 |
|   block(): threw IllegalStateException at IncorrectConcurrentLinkedDequeRunConcurrentRepresentationTest.block(RunConcurrentRepresentationTests.kt:352)                          |                                                                                                                                                  |                                                                                                                                                 |
|     deque.addLast(1) at IncorrectConcurrentLinkedDequeRunConcurrentRepresentationTest.block(RunConcurrentRepresentationTests.kt:357)                                            |                                                                                                                                                  |                                                                                                                                                 |
|       linkLast(1) at ConcurrentLinkedDeque.addLast(ConcurrentLinkedDeque.java:903)                                                                                              |                                                                                                                                                  |                                                                                                                                                 |
|         ConcurrentLinkedDeque.checkNotNull(1) at ConcurrentLinkedDeque.linkLast(ConcurrentLinkedDeque.java:386)                                                                 |                                                                                                                                                  |                                                                                                                                                 |
|         Node#2.lazySetPrev(Node#1) at ConcurrentLinkedDeque.linkLast(ConcurrentLinkedDeque.java:401)                                                                            |                                                                                                                                                  |                                                                                                                                                 |
|           UNSAFE.putOrderedObject(Node#2, 12, Node#1) at ConcurrentLinkedDeque$Node.lazySetPrev(ConcurrentLinkedDeque.java:319)                                                 |                                                                                                                                                  |                                                                                                                                                 |
|         head.casNext(null, Node#2): true at ConcurrentLinkedDeque.linkLast(ConcurrentLinkedDeque.java:402)                                                                      |                                                                                                                                                  |                                                                                                                                                 |
|           next.compareAndSwapObject(null, Node#2): true at ConcurrentLinkedDeque$Node.casNext(ConcurrentLinkedDeque.java:315)                                                   |                                                                                                                                                  |                                                                                                                                                 |
|     CollectionsKt.listOf(Array<Thread>#1): ArrayList#1 at IncorrectConcurrentLinkedDequeRunConcurrentRepresentationTest.block(RunConcurrentRepresentationTests.kt:365)          |                                                                                                                                                  |                                                                                                                                                 |
|       ArraysKt.asList(Array<Thread>#1): ArrayList#1 at CollectionsKt__CollectionsKt.listOf(Collections.kt:78)                                                                   |                                                                                                                                                  |                                                                                                                                                 |
|         ArraysUtilJVM.asList(Array<Thread>#1): ArrayList#1 at ArraysKt___ArraysJvmKt.asList(_ArraysJvm.kt:133)                                                                  |                                                                                                                                                  |                                                                                                                                                 |
|           Arrays.asList(Array<Thread>#1): ArrayList#1 at ArraysUtilJVM.asList(ArraysUtilJVM.java:13)                                                                            |                                                                                                                                                  |                                                                                                                                                 |
|     threads.forEach() at IncorrectConcurrentLinkedDequeRunConcurrentRepresentationTest.block(RunConcurrentRepresentationTests.kt:366)                                           |                                                                                                                                                  |                                                                                                                                                 |
|       iterator(): Itr#1 at IncorrectConcurrentLinkedDequeRunConcurrentRepresentationTest.block(RunConcurrentRepresentationTests.kt:479)                                         |                                                                                                                                                  |                                                                                                                                                 |
|       Itr#1.hasNext(): true at IncorrectConcurrentLinkedDequeRunConcurrentRepresentationTest.block(RunConcurrentRepresentationTests.kt:479)                                     |                                                                                                                                                  |                                                                                                                                                 |
|         this$0.size(): 2 at AbstractList$Itr.hasNext(AbstractList.java:351)                                                                                                     |                                                                                                                                                  |                                                                                                                                                 |
|       Itr#1.next(): Thread#1 at IncorrectConcurrentLinkedDequeRunConcurrentRepresentationTest.block(RunConcurrentRepresentationTests.kt:479)                                    |                                                                                                                                                  |                                                                                                                                                 |
|         checkForComodification() at AbstractList$Itr.next(AbstractList.java:355)                                                                                                |                                                                                                                                                  |                                                                                                                                                 |
|         this$0.get(0): Thread#1 at AbstractList$Itr.next(AbstractList.java:358)                                                                                                 |                                                                                                                                                  |                                                                                                                                                 |
|       Thread#1.start() at IncorrectConcurrentLinkedDequeRunConcurrentRepresentationTest.block(RunConcurrentRepresentationTests.kt:366)                                          |                                                                                                                                                  |                                                                                                                                                 |
|       Itr#1.hasNext(): true at IncorrectConcurrentLinkedDequeRunConcurrentRepresentationTest.block(RunConcurrentRepresentationTests.kt:479)                                     |                                                                                                                                                  |                                                                                                                                                 |
|         this$0.size(): 2 at AbstractList$Itr.hasNext(AbstractList.java:351)                                                                                                     |                                                                                                                                                  |                                                                                                                                                 |
|       Itr#1.next(): Thread#2 at IncorrectConcurrentLinkedDequeRunConcurrentRepresentationTest.block(RunConcurrentRepresentationTests.kt:479)                                    |                                                                                                                                                  |                                                                                                                                                 |
|         checkForComodification() at AbstractList$Itr.next(AbstractList.java:355)                                                                                                |                                                                                                                                                  |                                                                                                                                                 |
|         this$0.get(1): Thread#2 at AbstractList$Itr.next(AbstractList.java:358)                                                                                                 |                                                                                                                                                  |                                                                                                                                                 |
|       Thread#2.start() at IncorrectConcurrentLinkedDequeRunConcurrentRepresentationTest.block(RunConcurrentRepresentationTests.kt:366)                                          |                                                                                                                                                  |                                                                                                                                                 |
|       Itr#1.hasNext(): false at IncorrectConcurrentLinkedDequeRunConcurrentRepresentationTest.block(RunConcurrentRepresentationTests.kt:479)                                    |                                                                                                                                                  |                                                                                                                                                 |
|         this$0.size(): 2 at AbstractList$Itr.hasNext(AbstractList.java:351)                                                                                                     |                                                                                                                                                  |                                                                                                                                                 |
|     threads.forEach() at IncorrectConcurrentLinkedDequeRunConcurrentRepresentationTest.block(RunConcurrentRepresentationTests.kt:367)                                           |                                                                                                                                                  |                                                                                                                                                 |
|       iterator(): Itr#2 at IncorrectConcurrentLinkedDequeRunConcurrentRepresentationTest.block(RunConcurrentRepresentationTests.kt:481)                                         |                                                                                                                                                  |                                                                                                                                                 |
|       Itr#2.hasNext(): true at IncorrectConcurrentLinkedDequeRunConcurrentRepresentationTest.block(RunConcurrentRepresentationTests.kt:481)                                     |                                                                                                                                                  |                                                                                                                                                 |
|         this$0.size(): 2 at AbstractList$Itr.hasNext(AbstractList.java:351)                                                                                                     |                                                                                                                                                  |                                                                                                                                                 |
|       Itr#2.next(): Thread#1 at IncorrectConcurrentLinkedDequeRunConcurrentRepresentationTest.block(RunConcurrentRepresentationTests.kt:481)                                    |                                                                                                                                                  |                                                                                                                                                 |
|         checkForComodification() at AbstractList$Itr.next(AbstractList.java:355)                                                                                                |                                                                                                                                                  |                                                                                                                                                 |
|         this$0.get(0): Thread#1 at AbstractList$Itr.next(AbstractList.java:358)                                                                                                 |                                                                                                                                                  |                                                                                                                                                 |
|       switch (reason: waiting for Thread 1 to finish)                                                                                                                           |                                                                                                                                                  |                                                                                                                                                 |
|                                                                                                                                                                                 | run()                                                                                                                                            |                                                                                                                                                 |
|                                                                                                                                                                                 |   $deque.pollFirst(): 1 at IncorrectConcurrentLinkedDequeRunConcurrentRepresentationTest.block$lambda$0(RunConcurrentRepresentationTests.kt:359) |                                                                                                                                                 |
|                                                                                                                                                                                 |     first(): Node#1 at ConcurrentLinkedDeque.pollFirst(ConcurrentLinkedDeque.java:965)                                                           |                                                                                                                                                 |
|                                                                                                                                                                                 |       head ➜ Node#1 at ConcurrentLinkedDeque.first(ConcurrentLinkedDeque.java:748)                                                               |                                                                                                                                                 |
|                                                                                                                                                                                 |       head.prev ➜ null at ConcurrentLinkedDeque.first(ConcurrentLinkedDeque.java:749)                                                            |                                                                                                                                                 |
|                                                                                                                                                                                 |     head.item ➜ null at ConcurrentLinkedDeque.pollFirst(ConcurrentLinkedDeque.java:966)                                                          |                                                                                                                                                 |
|                                                                                                                                                                                 |     succ(Node#1): Node#2 at ConcurrentLinkedDeque.pollFirst(ConcurrentLinkedDeque.java:965)                                                      |                                                                                                                                                 |
|                                                                                                                                                                                 |       head.next ➜ Node#2 at ConcurrentLinkedDeque.succ(ConcurrentLinkedDeque.java:725)                                                           |                                                                                                                                                 |
|                                                                                                                                                                                 |     Node#2.item ➜ 1 at ConcurrentLinkedDeque.pollFirst(ConcurrentLinkedDeque.java:966)                                                           |                                                                                                                                                 |
|                                                                                                                                                                                 |     switch                                                                                                                                       |                                                                                                                                                 |
|                                                                                                                                                                                 |                                                                                                                                                  | run()                                                                                                                                           |
|                                                                                                                                                                                 |                                                                                                                                                  |   $deque.addFirst(0) at IncorrectConcurrentLinkedDequeRunConcurrentRepresentationTest.block$lambda$1(RunConcurrentRepresentationTests.kt:362)   |
|                                                                                                                                                                                 |                                                                                                                                                  |     linkFirst(0) at ConcurrentLinkedDeque.addFirst(ConcurrentLinkedDeque.java:890)                                                              |
|                                                                                                                                                                                 |                                                                                                                                                  |       ConcurrentLinkedDeque.checkNotNull(0) at ConcurrentLinkedDeque.linkFirst(ConcurrentLinkedDeque.java:353)                                  |
|                                                                                                                                                                                 |                                                                                                                                                  |       head ➜ Node#1 at ConcurrentLinkedDeque.linkFirst(ConcurrentLinkedDeque.java:358)                                                          |
|                                                                                                                                                                                 |                                                                                                                                                  |       head.prev ➜ null at ConcurrentLinkedDeque.linkFirst(ConcurrentLinkedDeque.java:359)                                                       |
|                                                                                                                                                                                 |                                                                                                                                                  |       head.next ➜ Node#2 at ConcurrentLinkedDeque.linkFirst(ConcurrentLinkedDeque.java:364)                                                     |
|                                                                                                                                                                                 |                                                                                                                                                  |       Node#3.lazySetNext(Node#1) at ConcurrentLinkedDeque.linkFirst(ConcurrentLinkedDeque.java:368)                                             |
|                                                                                                                                                                                 |                                                                                                                                                  |         UNSAFE.putOrderedObject(Node#3, 20, Node#1) at ConcurrentLinkedDeque$Node.lazySetNext(ConcurrentLinkedDeque.java:311)                   |
|                                                                                                                                                                                 |                                                                                                                                                  |       head.casPrev(null, Node#3): true at ConcurrentLinkedDeque.linkFirst(ConcurrentLinkedDeque.java:369)                                       |
|                                                                                                                                                                                 |                                                                                                                                                  |         prev.compareAndSwapObject(null, Node#3): true at ConcurrentLinkedDeque$Node.casPrev(ConcurrentLinkedDeque.java:323)                     |
|                                                                                                                                                                                 |                                                                                                                                                  |   $deque.peekLast(): 1 at IncorrectConcurrentLinkedDequeRunConcurrentRepresentationTest.block$lambda$1(RunConcurrentRepresentationTests.kt:363) |
|                                                                                                                                                                                 |                                                                                                                                                  |     last(): Node#2 at ConcurrentLinkedDeque.peekLast(ConcurrentLinkedDeque.java:942)                                                            |
|                                                                                                                                                                                 |                                                                                                                                                  |       tail ➜ Node#1 at ConcurrentLinkedDeque.last(ConcurrentLinkedDeque.java:773)                                                               |
|                                                                                                                                                                                 |                                                                                                                                                  |       head.next ➜ Node#2 at ConcurrentLinkedDeque.last(ConcurrentLinkedDeque.java:774)                                                          |
|                                                                                                                                                                                 |                                                                                                                                                  |       Node#2.next ➜ null at ConcurrentLinkedDeque.last(ConcurrentLinkedDeque.java:774)                                                          |
|                                                                                                                                                                                 |                                                                                                                                                  |       casTail(Node#1, Node#2): true at ConcurrentLinkedDeque.last(ConcurrentLinkedDeque.java:782)                                               |
|                                                                                                                                                                                 |                                                                                                                                                  |         tail.compareAndSwapObject(Node#1, Node#2): true at ConcurrentLinkedDeque.casTail(ConcurrentLinkedDeque.java:1562)                       |
|                                                                                                                                                                                 |                                                                                                                                                  |     tail.item ➜ 1 at ConcurrentLinkedDeque.peekLast(ConcurrentLinkedDeque.java:943)                                                             |
|                                                                                                                                                                                 |                                                                                                                                                  |   1.intValue(): 1 at IncorrectConcurrentLinkedDequeRunConcurrentRepresentationTest.block$lambda$1(RunConcurrentRepresentationTests.kt:363)      |
|                                                                                                                                                                                 |                                                                                                                                                  |   $r2.element = 1 at IncorrectConcurrentLinkedDequeRunConcurrentRepresentationTest.block$lambda$1(RunConcurrentRepresentationTests.kt:363)      |
|                                                                                                                                                                                 |     Node#2.casItem(1, null): true at ConcurrentLinkedDeque.pollFirst(ConcurrentLinkedDeque.java:967)                                             |                                                                                                                                                 |
|                                                                                                                                                                                 |       item.compareAndSwapObject(1, null): true at ConcurrentLinkedDeque$Node.casItem(ConcurrentLinkedDeque.java:307)                             |                                                                                                                                                 |
|                                                                                                                                                                                 |     unlink(Node#2) at ConcurrentLinkedDeque.pollFirst(ConcurrentLinkedDeque.java:968)                                                            |                                                                                                                                                 |
|                                                                                                                                                                                 |       tail.prev ➜ Node#1 at ConcurrentLinkedDeque.unlink(ConcurrentLinkedDeque.java:426)                                                         |                                                                                                                                                 |
|                                                                                                                                                                                 |       tail.next ➜ null at ConcurrentLinkedDeque.unlink(ConcurrentLinkedDeque.java:427)                                                           |                                                                                                                                                 |
|                                                                                                                                                                                 |       unlinkLast(Node#2, Node#1) at ConcurrentLinkedDeque.unlink(ConcurrentLinkedDeque.java:431)                                                 |                                                                                                                                                 |
|                                                                                                                                                                                 |         head.item ➜ null at ConcurrentLinkedDeque.unlinkLast(ConcurrentLinkedDeque.java:570)                                                     |                                                                                                                                                 |
|                                                                                                                                                                                 |         head.prev ➜ Node#3 at ConcurrentLinkedDeque.unlinkLast(ConcurrentLinkedDeque.java:570)                                                   |                                                                                                                                                 |
|                                                                                                                                                                                 |         Node#3.item ➜ 0 at ConcurrentLinkedDeque.unlinkLast(ConcurrentLinkedDeque.java:570)                                                      |                                                                                                                                                 |
|                                                                                                                                                                                 |         Node#3.next ➜ Node#1 at ConcurrentLinkedDeque.unlinkLast(ConcurrentLinkedDeque.java:571)                                                 |                                                                                                                                                 |
|                                                                                                                                                                                 |         tail.casPrev(Node#1, Node#3): true at ConcurrentLinkedDeque.unlinkLast(ConcurrentLinkedDeque.java:571)                                   |                                                                                                                                                 |
|                                                                                                                                                                                 |           prev.compareAndSwapObject(Node#1, Node#3): true at ConcurrentLinkedDeque$Node.casPrev(ConcurrentLinkedDeque.java:323)                  |                                                                                                                                                 |
|                                                                                                                                                                                 |         skipDeletedSuccessors(Node#3) at ConcurrentLinkedDeque.unlinkLast(ConcurrentLinkedDeque.java:572)                                        |                                                                                                                                                 |
|                                                                                                                                                                                 |           Node#3.next ➜ Node#1 at ConcurrentLinkedDeque.skipDeletedSuccessors(ConcurrentLinkedDeque.java:690)                                    |                                                                                                                                                 |
|                                                                                                                                                                                 |           head.item ➜ null at ConcurrentLinkedDeque.skipDeletedSuccessors(ConcurrentLinkedDeque.java:697)                                        |                                                                                                                                                 |
|                                                                                                                                                                                 |           head.next ➜ Node#2 at ConcurrentLinkedDeque.skipDeletedSuccessors(ConcurrentLinkedDeque.java:699)                                      |                                                                                                                                                 |
|                                                                                                                                                                                 |           tail.item ➜ null at ConcurrentLinkedDeque.skipDeletedSuccessors(ConcurrentLinkedDeque.java:697)                                        |                                                                                                                                                 |
|                                                                                                                                                                                 |           tail.next ➜ null at ConcurrentLinkedDeque.skipDeletedSuccessors(ConcurrentLinkedDeque.java:699)                                        |                                                                                                                                                 |
|                                                                                                                                                                                 |           tail.prev ➜ Node#3 at ConcurrentLinkedDeque.skipDeletedSuccessors(ConcurrentLinkedDeque.java:701)                                      |                                                                                                                                                 |
|                                                                                                                                                                                 |           Node#3.casNext(Node#1, Node#2): true at ConcurrentLinkedDeque.skipDeletedSuccessors(ConcurrentLinkedDeque.java:712)                    |                                                                                                                                                 |
|                                                                                                                                                                                 |             next.compareAndSwapObject(Node#1, Node#2): true at ConcurrentLinkedDeque$Node.casNext(ConcurrentLinkedDeque.java:315)                |                                                                                                                                                 |
|                                                                                                                                                                                 |         tail.next ➜ null at ConcurrentLinkedDeque.unlinkLast(ConcurrentLinkedDeque.java:573)                                                     |                                                                                                                                                 |
|                                                                                                                                                                                 |         Node#3.prev ➜ null at ConcurrentLinkedDeque.unlinkLast(ConcurrentLinkedDeque.java:573)                                                   |                                                                                                                                                 |
|                                                                                                                                                                                 |         Node#3.next ➜ Node#2 at ConcurrentLinkedDeque.unlinkLast(ConcurrentLinkedDeque.java:573)                                                 |                                                                                                                                                 |
|                                                                                                                                                                                 |         updateHead() at ConcurrentLinkedDeque.unlinkLast(ConcurrentLinkedDeque.java:577)                                                         |                                                                                                                                                 |
|                                                                                                                                                                                 |           head ➜ Node#1 at ConcurrentLinkedDeque.updateHead(ConcurrentLinkedDeque.java:607)                                                      |                                                                                                                                                 |
|                                                                                                                                                                                 |           head.item ➜ null at ConcurrentLinkedDeque.updateHead(ConcurrentLinkedDeque.java:607)                                                   |                                                                                                                                                 |
|                                                                                                                                                                                 |           head.prev ➜ Node#3 at ConcurrentLinkedDeque.updateHead(ConcurrentLinkedDeque.java:607)                                                 |                                                                                                                                                 |
|                                                                                                                                                                                 |           Node#3.prev ➜ null at ConcurrentLinkedDeque.updateHead(ConcurrentLinkedDeque.java:609)                                                 |                                                                                                                                                 |
|                                                                                                                                                                                 |           casHead(Node#1, Node#3): true at ConcurrentLinkedDeque.updateHead(ConcurrentLinkedDeque.java:613)                                      |                                                                                                                                                 |
|                                                                                                                                                                                 |             head.compareAndSwapObject(Node#1, Node#3): true at ConcurrentLinkedDeque.casHead(ConcurrentLinkedDeque.java:1558)                    |                                                                                                                                                 |
|                                                                                                                                                                                 |         updateTail() at ConcurrentLinkedDeque.unlinkLast(ConcurrentLinkedDeque.java:578)                                                         |                                                                                                                                                 |
|                                                                                                                                                                                 |           tail ➜ Node#2 at ConcurrentLinkedDeque.updateTail(ConcurrentLinkedDeque.java:637)                                                      |                                                                                                                                                 |
|                                                                                                                                                                                 |           tail.item ➜ null at ConcurrentLinkedDeque.updateTail(ConcurrentLinkedDeque.java:637)                                                   |                                                                                                                                                 |
|                                                                                                                                                                                 |           tail.next ➜ null at ConcurrentLinkedDeque.updateTail(ConcurrentLinkedDeque.java:637)                                                   |                                                                                                                                                 |
|                                                                                                                                                                                 |         Node#1.lazySetPrev(Node#1) at ConcurrentLinkedDeque.unlinkLast(ConcurrentLinkedDeque.java:581)                                           |                                                                                                                                                 |
|                                                                                                                                                                                 |           UNSAFE.putOrderedObject(Node#1, 12, Node#1) at ConcurrentLinkedDeque$Node.lazySetPrev(ConcurrentLinkedDeque.java:319)                  |                                                                                                                                                 |
|                                                                                                                                                                                 |         nextTerminator(): Node#4 at ConcurrentLinkedDeque.unlinkLast(ConcurrentLinkedDeque.java:582)                                             |                                                                                                                                                 |
|                                                                                                                                                                                 |         Node#1.lazySetNext(Node#4) at ConcurrentLinkedDeque.unlinkLast(ConcurrentLinkedDeque.java:582)                                           |                                                                                                                                                 |
|                                                                                                                                                                                 |           UNSAFE.putOrderedObject(Node#1, 20, Node#4) at ConcurrentLinkedDeque$Node.lazySetNext(ConcurrentLinkedDeque.java:311)                  |                                                                                                                                                 |
|                                                                                                                                                                                 |   1.intValue(): 1 at IncorrectConcurrentLinkedDequeRunConcurrentRepresentationTest.block$lambda$0(RunConcurrentRepresentationTests.kt:359)       |                                                                                                                                                 |
|                                                                                                                                                                                 |   $r1.element = 1 at IncorrectConcurrentLinkedDequeRunConcurrentRepresentationTest.block$lambda$0(RunConcurrentRepresentationTests.kt:359)       |                                                                                                                                                 |
|       Thread#1.join() at IncorrectConcurrentLinkedDequeRunConcurrentRepresentationTest.block(RunConcurrentRepresentationTests.kt:367)                                           |                                                                                                                                                  |                                                                                                                                                 |
|       Itr#2.hasNext(): true at IncorrectConcurrentLinkedDequeRunConcurrentRepresentationTest.block(RunConcurrentRepresentationTests.kt:481)                                     |                                                                                                                                                  |                                                                                                                                                 |
|         this$0.size(): 2 at AbstractList$Itr.hasNext(AbstractList.java:351)                                                                                                     |                                                                                                                                                  |                                                                                                                                                 |
|       Itr#2.next(): Thread#2 at IncorrectConcurrentLinkedDequeRunConcurrentRepresentationTest.block(RunConcurrentRepresentationTests.kt:481)                                    |                                                                                                                                                  |                                                                                                                                                 |
|         checkForComodification() at AbstractList$Itr.next(AbstractList.java:355)                                                                                                |                                                                                                                                                  |                                                                                                                                                 |
|         this$0.get(1): Thread#2 at AbstractList$Itr.next(AbstractList.java:358)                                                                                                 |                                                                                                                                                  |                                                                                                                                                 |
|       Thread#2.join() at IncorrectConcurrentLinkedDequeRunConcurrentRepresentationTest.block(RunConcurrentRepresentationTests.kt:367)                                           |                                                                                                                                                  |                                                                                                                                                 |
|       Itr#2.hasNext(): false at IncorrectConcurrentLinkedDequeRunConcurrentRepresentationTest.block(RunConcurrentRepresentationTests.kt:481)                                    |                                                                                                                                                  |                                                                                                                                                 |
|         this$0.size(): 2 at AbstractList$Itr.hasNext(AbstractList.java:351)                                                                                                     |                                                                                                                                                  |                                                                                                                                                 |
|     r1.element ➜ 1 at IncorrectConcurrentLinkedDequeRunConcurrentRepresentationTest.block(RunConcurrentRepresentationTests.kt:368)                                              |                                                                                                                                                  |                                                                                                                                                 |
|     r2.element ➜ 1 at IncorrectConcurrentLinkedDequeRunConcurrentRepresentationTest.block(RunConcurrentRepresentationTests.kt:368)                                              |                                                                                                                                                  |                                                                                                                                                 |
|   result: IllegalStateException #1                                                                                                                                              |                                                                                                                                                  |                                                                                                                                                 |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
